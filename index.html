<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DOGS EARN BOT - MINI APP</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://ad.gigapub.tech/script?id=1096"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: #000; color: #fff; font-family: 'Segoe UI', sans-serif; overflow-x: hidden; }
        
        /* Header */
        .header { padding: 20px; background: linear-gradient(180deg, #1a1a1a 0%, #000 100%); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .user-info img { width: 45px; height: 45px; border-radius: 50%; border: 2px solid #fff; }
        .main-bal h2 { color: #fff; font-size: 24px; text-align: right; }

        .container { padding: 15px; padding-bottom: 100px; }
        .card { background: #111; border: 1px solid #222; border-radius: 20px; padding: 15px; margin-bottom: 15px; }
        
        /* Task Grid */
        .task-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .task-box { background: #1a1a1a; padding: 15px; border-radius: 15px; text-align: center; cursor: pointer; border: 1px solid #333; transition: 0.2s; }
        .task-box:active { transform: scale(0.95); }
        .task-box b { font-size: 14px; display: block; margin-top: 5px; }

        /* Dashboard */
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .stat-box { background: #0a0a0a; padding: 12px; border-radius: 12px; border-left: 3px solid #fff; }

        /* Fake Notification */
        #fake-notif { position: fixed; bottom: 85px; left: 50%; transform: translateX(-50%); background: #fff; color: #000; padding: 10px 20px; border-radius: 50px; font-size: 12px; font-weight: bold; display: none; z-index: 2000; }

        .btn-pay { width: 100%; padding: 15px; background: #fff; color: #000; border: none; border-radius: 12px; font-weight: bold; margin-top: 10px; cursor: pointer; }
        .input-box { width: 100%; padding: 12px; background: #000; border: 1px solid #333; color: #fff; border-radius: 10px; margin-bottom: 10px; text-align: center; outline: none; }

        /* Bottom Nav */
        .nav { position: fixed; bottom: 0; width: 100%; height: 70px; background: #0a0a0a; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #222; z-index: 1000; }
        .nav-item { text-align: center; color: #555; cursor: pointer; font-size: 12px; }
        .nav-item.active { color: #fff; }

        .hide { display: none; }
    </style>
</head>
<body>

    <div style="text-align:center; padding: 10px 0;">
        <script>
            atOptions = { 'key' : 'a91e4f498fbc72981defd7cee9f2e9bc', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
        </script>
        <script src="https://www.highperformanceformat.com/a91e4f498fbc72981defd7cee9f2e9bc/invoke.js"></script>
    </div>

    <div class="header">
        <div class="user-info">
            <img id="u_pic" src="https://i.imgur.com/8Km9tLL.png">
            <div class="user-details">
                <b id="u_name">Miner</b>
                <span id="u_id" style="font-size: 10px; color:#888;">ID: 000000</span>
            </div>
        </div>
        <div class="main-bal">
            <h2 id="top_bal">0</h2>
            <span style="font-size: 10px; color: #888;">$DOGS BALANCE</span>
        </div>
    </div>

    <div class="container">
        
        <div id="section-home">
            <div class="card" style="border: 1px solid #fff; text-align: center;">
                <h3 style="color:#00ff88;">Total Users: 5,646+</h3>
                <p style="font-size: 11px;">Join the fastest growing DOGS miner!</p>
            </div>

            <div class="task-grid">
                <div class="task-box" onclick="watchAd()"><span>üì∫</span><b>Watch & Earn</b><small style="color:#00ff88;">+5 DOGS</small></div>
                <div class="task-box" onclick="claimDaily()"><span>üéÅ</span><b>Daily Bonus</b><small style="color:#00ff88;">+5 DOGS</small></div>
                <div class="task-box" onclick="spinWin()"><span>üé°</span><b>Lucky Spin</b><small style="color:#00ff88;">Random</small></div>
                <div class="task-box" onclick="window.open('https://t.me/Dogs_coinearn_bot')"><span>üì¢</span><b>Channel</b><small style="color:#00ff88;">Join Now</small></div>
            </div>

            <div class="card" style="margin-top:20px;">
                <h4>Referral Program</h4>
                <p style="font-size: 12px; color:#888; margin-bottom:10px;">Get 50 DOGS per valid referral.</p>
                <button class="btn-pay" style="background:#0088cc; color:#fff;" onclick="invite()">Invite Friends</button>
            </div>
        </div>

        <div id="section-withdraw" class="hide">
            <div class="card">
                <h3>Withdrawal Center</h3>
                <p style="font-size: 12px; color: #888; margin-bottom: 15px;">Minimum: 10,000 DOGS</p>
                <input type="number" id="w_amt" class="input-box" placeholder="Amount (Min 10000)">
                <input type="text" id="w_addr" class="input-box" placeholder="Enter DOGS Address">
                <button class="btn-pay" onclick="requestWithdraw()">Submit Request</button>
            </div>
        </div>

        <div id="section-profile" class="hide">
            <div class="card stat-grid">
                <div class="stat-box"><small>Balance</small><br><b id="st_bal">0</b></div>
                <div class="stat-box"><small>Refers</small><br><b id="st_ref">0</b></div>
                <div class="stat-box"><small>Status</small><br><b style="color:#00ff88;">Verified</b></div>
                <div class="stat-box"><small>Server</small><br><b>Cloud V3</b></div>
            </div>
            <button class="btn-pay" style="background:#222; color:#fff;" onclick="alert('Mining is running in background...')">Cloud Mining: ACTIVE</button>
        </div>
    </div>

    <div id="fake-notif">User just withdrew 12,000 DOGS! ‚úÖ</div>

    <div class="nav">
        <div class="nav-item active" onclick="nav('home', this)">Home</div>
        <div class="nav-item" onclick="nav('withdraw', this)">Withdraw</div>
        <div class="nav-item" onclick="nav('profile', this)">Profile</div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();

        const BOT_TOKEN = "8032434831:AAE_Tz0v_3Ze9yfm8M2xi2tVWwnzD_4C4yA";
        const ADMIN_ID = "6045231271";

        let user = tg.initDataUnsafe.user || { first_name: "Miner", id: "000000" };
        document.getElementById('u_name').innerText = user.first_name;
        document.getElementById('u_id').innerText = "ID: " + user.id;
        if(user.photo_url) document.getElementById('u_pic').src = user.photo_url;

        let db = JSON.parse(localStorage.getItem("dogs_db_final")) || { bal: 0, ref: 0, lastBonus: "" };

        function update() {
            document.getElementById('top_bal').innerText = document.getElementById('st_bal').innerText = Math.floor(db.bal).toLocaleString();
            document.getElementById('st_ref').innerText = db.ref;
            localStorage.setItem("dogs_db_final", JSON.stringify(db));
        }
        update();

        function nav(sec, el) {
            document.querySelectorAll(".container > div").forEach(d => d.classList.add("hide"));
            document.getElementById("section-" + sec).classList.remove("hide");
            document.querySelectorAll(".nav-item").forEach(i => i.classList.remove("active"));
            el.classList.add("active");
        }

        function watchAd() {
            if (typeof showGiga === 'function') {
                showGiga().then(() => { db.bal += 5; update(); alert("5 DOGS Earned!"); });
            } else { db.bal += 5; update(); alert("Ad Simulated: +5 DOGS"); }
        }

        function claimDaily() {
            let today = new Date().toDateString();
            if(db.lastBonus === today) return alert("Already claimed today!");
            db.bal += 5; db.lastBonus = today; update();
            alert("Daily Bonus Claimed!");
        }

        function spinWin() {
            watchAd();
            let win = Math.floor(Math.random() * 10);
            db.bal += win; update();
            alert("You won " + win + " DOGS!");
        }

        function invite() {
            const url = `https://t.me/Dogs_coinearn_bot?start=${user.id}`;
            tg.openTelegramLink(`https://t.me/share/url?url=${url}&text=Start Mining DOGS!`);
        }

        function requestWithdraw() {
            let amt = document.getElementById('w_amt').value;
            let addr = document.getElementById('w_addr').value;

            if(amt >= 10000 && db.bal >= amt && addr.length > 5) {
                let text = `üöÄ **NEW WITHDRAW REQUEST**\n\nüë§ Name: ${user.first_name}\nüÜî ID: ${user.id}\nüí∞ Amount: ${amt} DOGS\nüìç Address: \`${addr}\``;
                
                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: ADMIN_ID, text: text, parse_mode: 'Markdown' })
                }).then(() => {
                    db.bal -= amt; update();
                    alert("Withdrawal submitted! Wait 24h.");
                });
            } else {
                alert("Minimum 10,000 DOGS and valid address required!");
            }
        }

        // Fake Notification
        setInterval(() => {
            const notif = document.getElementById('fake-notif');
            const ams = [12000, 15000, 20000, 80000];
            notif.innerText = `User ID ${Math.floor(Math.random()*900)+100}*** withdrew ${ams[Math.floor(Math.random()*ams.length)]} DOGS! ‚úÖ`;
            notif.style.display = 'block';
            setTimeout(() => notif.style.display = 'none', 3000);
        }, 20000);
    </script>
</body>
</html>
