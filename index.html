<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DOGS MINER PRO</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://ad.gigapub.tech/script?id=1096"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family: 'Segoe UI', Tahoma, sans-serif;}

body{
  background:#050814; color:#fff; overflow-x:hidden;
  background-image: radial-gradient(circle at 50% 0%, #1a2a6c 0%, #050814 100%);
  min-height: 100vh;
}

.container{padding:16px;padding-bottom:120px}
.card{
  background:rgba(255,255,255,0.05); backdrop-filter:blur(10px);
  border:1px solid rgba(255,255,255,0.1); border-radius:24px;
  padding:20px; margin-bottom:16px; position:relative;
}

.premium-gradient{ 
  background: linear-gradient(135deg,#6f6dff,#00d2ff); color:#fff; 
  box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

.btn-premium{
  width:100%; padding:18px; border-radius:18px; border:none;
  font-weight:700; font-size:17px; color:#fff; cursor:pointer;
  background: linear-gradient(45deg,#6f6dff,#00d2ff);
  box-shadow: 0 8px 25px rgba(111,109,255,0.4); transition:0.3s;
}
.btn-premium:active{transform:scale(0.96)}

/* Mining Button */
.mining-circle {
    width: 160px; height: 160px; border-radius: 50%;
    background: radial-gradient(circle, #fff 0%, #aaa 100%);
    margin: 20px auto; display: flex; align-items: center;
    justify-content: center; font-size: 80px;
    box-shadow: 0 0 30px rgba(255,255,255,0.2);
    cursor: pointer; transition: 0.1s;
}
.mining-circle:active { transform: scale(0.9); }

.method-grid{ display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
.method-card{
  background: rgba(255,255,255,0.05); border: 2px solid transparent;
  border-radius: 20px; padding: 15px; text-align: center; cursor: pointer;
  transition: 0.3s;
}
.method-card img{ width: 50px; height: 50px; border-radius: 10px; margin-bottom: 8px;}
.method-card.active{ border-color: #00d2ff; background: rgba(0, 210, 255, 0.1); }

.input-box{
  width:100%; padding:16px; margin-top:12px; border-radius:15px;
  border:1px solid rgba(255,255,255,0.1); background:rgba(0,0,0,0.4);
  color:#fff; font-size:16px; outline:none; text-align: center;
}

.nav{
  position:fixed; bottom:15px; left:15px; right:15px; height:75px;
  background:rgba(15,23,58,0.95); backdrop-filter:blur(20px);
  border-radius:25px; display:flex; align-items:center; justify-content:space-around;
  border:1px solid rgba(255,255,255,0.1); z-index:1000;
}
.nav button{ background:none; border:none; color:#777; font-size:24px; width:55px; height:55px; }
.nav button.active{ color:#fff; background:linear-gradient(135deg,#6f6dff,#00d2ff); border-radius:18px; }

.hide{display:none}
</style>
</head>
<body>

<div style="display:flex; justify-content:center; padding:10px 0;">
    <script>
      atOptions = { 'key' : 'a91e4f498fbc72981defd7cee9f2e9bc', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
    </script>
    <script src="https://www.highperformanceformat.com/a91e4f498fbc72981defd7cee9f2e9bc/invoke.js"></script>
</div>

<div style="padding:10px 20px; display:flex; justify-content:space-between; align-items:center;">
  <div style="display:flex; align-items:center; gap:12px;">
    <img id="photo" style="width:40px; height:40px; border-radius:50%; border:2px solid #6f6dff;">
    <div>
      <p style="font-size:10px; color:#aaa;">MINER ID</p>
      <b id="name" style="font-size:14px;">User</b>
    </div>
  </div>
  <div style="background:rgba(255,255,255,0.1); padding:8px 15px; border-radius:15px;">
    <span style="color:#00d2ff; font-weight:800;">ü¶¥ <span id="balance">0</span> DOGS</span>
  </div>
</div>

<div class="container">

  <div id="home">
    <div class="card premium-gradient" style="text-align:center;">
      <h2 style="font-size:20px;">DOGS MINING CENTER</h2>
      <p style="font-size:13px; margin: 10px 0;">Tap the dog to mine. Max 10 DOGS daily!</p>
      
      <div class="mining-circle" id="mining-btn" onclick="mineDogs()">üê∂</div>
      <p id="mine-stat" style="font-size:12px; color:#fff;">Daily Limit: <span id="today_mine">0</span>/10</p>
    </div>
    
    <div style="display:flex; gap:12px;">
        <div class="card" style="flex:1; text-align:center;">
            <small style="color:#aaa;">Ads Watched</small><br><b id="ads_count">0</b>
        </div>
        <div class="card" style="flex:1; text-align:center;">
            <small style="color:#aaa;">Daily Bonus</small><br><b id="bonus_stat">Available</b>
        </div>
    </div>
  </div>

  <div id="earn" class="hide">
    <div class="card" style="text-align:center;">
        <h3>Daily Check-in</h3>
        <p style="font-size:12px; color:#aaa; margin-bottom:15px;">Get 5 DOGS every day</p>
        <button class="btn-premium" onclick="claimDaily()">Claim 5 DOGS üéÅ</button>
    </div>
    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:12px;">
        <div class="card" style="text-align:center;" onclick="watchVideoAd()">
            <div style="font-size:30px;">üì∫</div>
            <b>Watch Ad</b>
            <p style="color:#00d2ff;">+1 DOGS</p>
        </div>
        <div class="card" style="text-align:center;" onclick="luckySpin()">
            <div style="font-size:30px;">üé°</div>
            <b>Spin Win</b>
            <p style="color:#00d2ff;">Up to 5 DOGS</p>
        </div>
    </div>
  </div>

  <div id="withdraw" class="hide">
      <div class="card">
          <h3 style="text-align:center; margin-bottom:15px;">Withdraw DOGS</h3>
          <div class="method-grid">
              <div class="method-card active" onclick="selectM(this,'Bkash')">
                  <img src="https://i.imgur.com/7SstD2D.png" style="width:40px;"><b>Bkash</b>
              </div>
              <div class="method-card" onclick="selectM(this,'Nagad')">
                  <img src="https://i.imgur.com/Wl3Yy6H.png" style="width:40px;"><b>Nagad</b>
              </div>
          </div>
          <input type="number" id="amt" class="input-box" placeholder="Enter Amount (Min 1000 DOGS)">
          <input type="text" id="address" class="input-box" placeholder="Enter Bkash/Dogs Address">
          <button class="btn-premium" style="margin-top:20px;" onclick="processWithdraw()">Withdraw Now üí∏</button>
      </div>
  </div>

  <div id="profile" class="hide">
    <div class="card" style="text-align:center;">
        <h3 id="p_name">User</h3>
        <p id="uid" style="color:#aaa; font-size:12px;">ID: ---</p>
        <div style="margin-top:20px; background:rgba(255,255,255,0.05); padding:15px; border-radius:15px;">
            <p>Total Mined: <b id="total_mined">0</b> DOGS</p>
        </div>
    </div>
    <button class="btn-premium" style="background:#222;" onclick="window.open('https://t.me/JUST_GOPAL')">Contact Support</button>
  </div>

</div>

<div class="nav">
  <button id="n-home" class="active" onclick="nav('home')">üè†</button>
  <button id="n-earn" onclick="nav('earn')">üí∞</button>
  <button id="n-withdraw" onclick="nav('withdraw')">üí∏</button>
  <button id="n-profile" onclick="nav('profile')">üë§</button>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready(); tg.expand();

// Initial Ad Trigger
window.onload = function() {
    if(typeof showGiga === 'function') showGiga();
};

let user = tg.initDataUnsafe.user || { first_name: "Miner", id: "000" };
document.getElementById('name').innerText = user.first_name;
document.getElementById('uid').innerText = "ID: " + user.id;
document.getElementById('photo').src = user.photo_url || "https://i.imgur.com/8Km9tLL.png";

let db = JSON.parse(localStorage.getItem("dogs_miner_db")) || { 
    bal: 0, 
    ads: 0, 
    todayMine: 0, 
    lastDate: "", 
    lastBonus: "" 
};

function save() {
    localStorage.setItem("dogs_miner_db", JSON.stringify(db));
    document.getElementById('balance').innerText = Math.floor(db.bal);
    document.getElementById('ads_count').innerText = db.ads;
    document.getElementById('today_mine').innerText = db.todayMine;
    document.getElementById('total_mined').innerText = Math.floor(db.bal);
}
save();

// Reset Daily Mine
let today = new Date().toDateString();
if(db.lastDate !== today) {
    db.todayMine = 0;
    db.lastDate = today;
    save();
}

function nav(id) {
  document.querySelectorAll(".container > div").forEach(d => d.classList.add("hide"));
  document.getElementById(id).classList.remove("hide");
  document.querySelectorAll(".nav button").forEach(b => b.classList.remove("active"));
  document.getElementById('n-' + id).classList.add("active");
}

function mineDogs() {
    if(db.todayMine < 10) {
        db.bal += 0.5;
        db.todayMine += 0.5;
        save();
    } else {
        alert("Daily mining limit reached (10 DOGS)!");
    }
}

function watchVideoAd() {
    // Gigapub ad trigger
    if (typeof showGiga === 'function') {
        showGiga().then(() => {
            db.bal += 1; db.ads += 1; save();
            alert("Success! 1 DOGS added.");
        });
    } else {
        // Fallback for testing
        db.bal += 1; db.ads += 1; save();
        alert("Ad simulated: 1 DOGS added.");
    }
}

function claimDaily() {
    if(db.lastBonus === today) return alert("Already claimed today!");
    db.bal += 5; db.lastBonus = today; save();
    alert("5 DOGS Daily Bonus Claimed!");
}

function luckySpin() {
    watchVideoAd(); // Spin starts after an ad
    let win = (Math.random() * 5).toFixed(1);
    db.bal += parseFloat(win); save();
    alert("You won " + win + " DOGS from Spin!");
}

function processWithdraw() {
    let a = document.getElementById('amt').value;
    let adr = document.getElementById('address').value;
    if(a >= 1000 && db.bal >= a && adr.length > 5) {
        db.bal -= a; save();
        alert("Withdrawal request sent for " + a + " DOGS.");
    } else {
        alert("Minimum withdraw 1000 DOGS and valid address required.");
    }
}

function selectM(el, m) {
    document.querySelectorAll('.method-card').forEach(c => c.classList.remove('active'));
    el.classList.add('active');
}
</script>

<div style="position:fixed; bottom:95px; width:100%; display:flex; justify-content:center; pointer-events:none;">
    <script src="https://ad.gigapub.tech/script?id=1096"></script>
</div>

</body>
</html>
