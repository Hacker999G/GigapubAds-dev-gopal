<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DOGS EARN BOT - PRO</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://ad.gigapub.tech/script?id=1096"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: #000; color: #fff; font-family: 'Segoe UI', sans-serif; overflow-x: hidden; }
        
        .header { padding: 20px; background: linear-gradient(180deg, #1a1a1a 0%, #000 100%); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .user-info img { width: 45px; height: 45px; border-radius: 50%; border: 2px solid #fff; }
        .main-bal h2 { color: #fff; font-size: 24px; text-align: right; }

        .container { padding: 15px; padding-bottom: 100px; }
        .card { background: #111; border: 1px solid #222; border-radius: 20px; padding: 15px; margin-bottom: 15px; position: relative; overflow: hidden; }
        
        /* Task Grid */
        .task-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .task-box { background: #1a1a1a; padding: 15px; border-radius: 15px; text-align: center; cursor: pointer; border: 1px solid #333; transition: 0.2s; }
        .task-box:active { transform: scale(0.95); }

        /* Profile/Dashboard Enhanced */
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .stat-box { background: #0a0a0a; padding: 15px; border-radius: 12px; border: 1px solid #222; }
        .stat-box small { font-size: 10px; color: #888; display: block; margin-bottom: 5px; }
        .level-bar { width: 100%; height: 8px; background: #222; border-radius: 10px; margin-top: 10px; }
        .level-fill { height: 100%; background: #00ff88; border-radius: 10px; width: 45%; }

        #fake-notif { position: fixed; bottom: 85px; left: 50%; transform: translateX(-50%); background: #fff; color: #000; padding: 10px 20px; border-radius: 50px; font-size: 11px; font-weight: bold; display: none; z-index: 2000; box-shadow: 0 0 15px rgba(255,255,255,0.2); }

        .btn-pay { width: 100%; padding: 15px; background: #fff; color: #000; border: none; border-radius: 12px; font-weight: bold; margin-top: 10px; cursor: pointer; }
        .input-box { width: 100%; padding: 12px; background: #000; border: 1px solid #333; color: #fff; border-radius: 10px; margin-bottom: 10px; text-align: center; outline: none; }

        .nav { position: fixed; bottom: 0; width: 100%; height: 70px; background: #0a0a0a; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #222; z-index: 1000; }
        .nav-item { text-align: center; color: #555; cursor: pointer; font-size: 12px; }
        .nav-item.active { color: #fff; }

        .hide { display: none; }
    </style>
</head>
<body>

    <div class="header">
        <div class="user-info">
            <img id="u_pic" src="https://i.imgur.com/8Km9tLL.png">
            <div class="user-details">
                <b id="u_name">Miner</b>
                <span id="u_id" style="font-size: 10px; color:#888;">ID: 000000</span>
            </div>
        </div>
        <div class="main-bal">
            <h2 id="top_bal">0</h2>
            <span style="font-size: 10px; color: #888;">$DOGS BALANCE</span>
        </div>
    </div>

    <div class="container">
        
        <div id="section-home">
            <div class="card" style="border: 1px solid #fff; text-align: center; background: linear-gradient(45deg, #111, #000);">
                <h3 style="color:#00ff88;">Community: 5,646+ Miners</h3>
                <p style="font-size: 11px;">You are earning $DOGS via Cloud Mining</p>
            </div>

            <div class="task-grid">
                <div class="task-box" onclick="watchAd()"><span>üì∫</span><b>Watch Ads</b><br><small style="color:#00ff88;">+5 DOGS</small></div>
                <div class="task-box" onclick="claimDaily()"><span>üéÅ</span><b>Bonus</b><br><small style="color:#00ff88;">+5 DOGS</small></div>
                <div class="task-box" onclick="spinWin()"><span>üé°</span><b>Spin</b><br><small style="color:#00ff88;">Random</small></div>
                <div class="task-box" onclick="window.open('https://t.me/Dogs_coinearn_bot')"><span>üì¢</span><b>Channel</b><br><small style="color:#00ff88;">Official</small></div>
            </div>

            <div class="card" style="margin-top:20px;">
                <h4>Referral System</h4>
                <p style="font-size: 12px; color:#888; margin-bottom:10px;">Instant 50 DOGS per friend.</p>
                <button class="btn-pay" style="background:#0088cc; color:#fff;" onclick="invite()">Invite Link</button>
            </div>
        </div>

        <div id="section-withdraw" class="hide">
            <div class="card">
                <h3>Withdrawal</h3>
                <p style="font-size: 12px; color: #888; margin-bottom: 15px;">Threshold: 10,000 DOGS</p>
                <input type="number" id="w_amt" class="input-box" placeholder="Min 10000">
                <input type="text" id="w_addr" class="input-box" placeholder="TON/DOGS Address">
                <button class="btn-pay" onclick="requestWithdraw()">Submit to Admin</button>
            </div>
        </div>

        <div id="section-profile" class="hide">
            <div class="card">
                <small style="color:#888;">Mining Experience (XP)</small>
                <h3>Level 1 Miner</h3>
                <div class="level-bar"><div class="level-fill"></div></div>
                <p style="font-size:10px; margin-top:5px; color:#00ff88;">450/1000 XP to next level</p>
            </div>
            
            <div class="card stat-grid">
                <div class="stat-box"><small>Balance</small><b id="st_bal">0</b></div>
                <div class="stat-box"><small>Friends</small><b id="st_ref">0</b></div>
                <div class="stat-box"><small>Total Profit</small><b>0.00</b></div>
                <div class="stat-box"><small>Wallet</small><b style="font-size:10px;">Not Linked</b></div>
                <div class="stat-box"><small>Daily Streak</small><b>1 Day</b></div>
                <div class="stat-box"><small>Rank</small><b>#4201</b></div>
            </div>

            <div class="card" style="background:#1a1a1a; border: 1px dashed #333;">
                <p style="font-size:12px; text-align:center;">Cloud Server: <span style="color:#00ff88;">Online</span> | Ping: 24ms</p>
            </div>
        </div>
    </div>

    <div id="fake-notif">User ID 482*** withdrew 15,000 DOGS! ‚úÖ</div>

    <div class="nav">
        <div class="nav-item active" onclick="nav('home', this)">Home</div>
        <div class="nav-item" onclick="nav('withdraw', this)">Withdraw</div>
        <div class="nav-item" onclick="nav('profile', this)">Profile</div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();

        const BOT_TOKEN = "8032434831:AAE_Tz0v_3Ze9yfm8M2xi2tVWwnzD_4C4yA";
        const ADMIN_ID = "6045231271";
        const CHANNEL_ID = "-1003287255002"; // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶®‡¶§‡ßÅ‡¶® ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶Ü‡¶á‡¶°‡¶ø

        let user = tg.initDataUnsafe.user || { first_name: "Miner", id: "000000" };
        document.getElementById('u_name').innerText = user.first_name;
        document.getElementById('u_id').innerText = "ID: " + user.id;
        if(user.photo_url) document.getElementById('u_pic').src = user.photo_url;

        let db = JSON.parse(localStorage.getItem("dogs_db_v3")) || { bal: 0, ref: 0, lastBonus: "" };

        function update() {
            document.getElementById('top_bal').innerText = document.getElementById('st_bal').innerText = Math.floor(db.bal).toLocaleString();
            document.getElementById('st_ref').innerText = db.ref;
            localStorage.setItem("dogs_db_v3", JSON.stringify(db));
        }
        update();

        function nav(sec, el) {
            document.querySelectorAll(".container > div").forEach(d => d.classList.add("hide"));
            document.getElementById("section-" + sec).classList.remove("hide");
            document.querySelectorAll(".nav-item").forEach(i => i.classList.remove("active"));
            el.classList.add("active");
        }

        function watchAd() {
            if (typeof showGiga === 'function') {
                showGiga().then(() => { db.bal += 5; update(); alert("Ad reward: 5 DOGS"); });
            } else { db.bal += 5; update(); alert("Ad reward: 5 DOGS"); }
        }

        function claimDaily() {
            let t = new Date().toDateString();
            if(db.lastBonus === t) return alert("Come back tomorrow!");
            db.bal += 5; db.lastBonus = t; update(); alert("Daily bonus added!");
        }

        function spinWin() { watchAd(); let w = Math.floor(Math.random()*10); db.bal += w; update(); alert("Spin win: "+w+" DOGS"); }

        function invite() {
            const url = `https://t.me/Dogs_coinearn_bot?start=${user.id}`;
            tg.openTelegramLink(`https://t.me/share/url?url=${url}&text=Start Mining DOGS Free!`);
        }

        function requestWithdraw() {
            let amt = document.getElementById('w_amt').value;
            let addr = document.getElementById('w_addr').value;

            if(amt >= 10000 && db.bal >= amt && addr.length > 5) {
                let adminMsg = `üöÄ **NEW WITHDRAW REQUEST**\n\nüë§ Name: ${user.first_name}\nüÜî ID: ${user.id}\nüí∞ Amount: ${amt} DOGS\nüìç Address: \`${addr}\``;
                let channelMsg = `üì¢ **PAYMENT STATUS: PENDING**\n\nüë§ User: ${user.first_name}\nüí∞ Amount: ${amt} DOGS\n‚úÖ Status: Waiting for approval`;

                // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶®‡¶¨‡¶ï‡ßç‡¶∏‡ßá
                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: ADMIN_ID, text: adminMsg, parse_mode: 'Markdown' })
                });

                // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá
                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CHANNEL_ID, text: channelMsg, parse_mode: 'Markdown' })
                }).then(() => {
                    db.bal -= amt; update();
                    alert("Withdrawal submitted to Admin & Channel!");
                });
            } else {
                alert("Minimum 10,000 DOGS required!");
            }
        }

        setInterval(() => {
            const notif = document.getElementById('fake-notif');
            notif.innerText = `User ID ${Math.floor(Math.random()*900)+100}*** just withdrew 12,000 DOGS! ‚úÖ`;
            notif.style.display = 'block';
            setTimeout(() => notif.style.display = 'none', 3000);
        }, 20000);
    </script>
</body>
</html>
